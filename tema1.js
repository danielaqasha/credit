function saveHistory(userId, serverId){let history=JSON.parse(localStorage.getItem('idHistory'))||[];const existingIndex=history.findIndex(item=>item.userId===userId&&item.serverId===serverId);if(existingIndex===-1&&userId&&serverId){history.unshift({userId,serverId});if(history.length>5){history.pop()}localStorage.setItem('idHistory',JSON.stringify(history))}updateHistoryList()}function updateHistoryList(){const historyList=document.getElementById('historyList');const history=JSON.parse(localStorage.getItem('idHistory'))||[];historyList.innerHTML='';history.forEach(item=>{const listItem=document.createElement('div');listItem.classList.add('list-group-item');const textWrapper=document.createElement('div');textWrapper.classList.add('history-id-text');textWrapper.innerHTML=`<i class="bi bi-person-circle"></i> ${item.userId} (${item.serverId})`;const deleteButton=document.createElement('button');deleteButton.classList.add('btn-delete-history');deleteButton.innerHTML='<i class="bi bi-x-circle-fill"></i>';deleteButton.addEventListener('click',event=>{event.stopPropagation();deleteHistoryItem(item.userId,item.serverId)});listItem.appendChild(textWrapper);listItem.appendChild(deleteButton);listItem.addEventListener('click',()=>{document.getElementById('userId').value=item.userId;document.getElementById('serverId').value=item.serverId});historyList.appendChild(listItem)})}function deleteHistoryItem(userId,serverId){let history=JSON.parse(localStorage.getItem('idHistory'))||[];history=history.filter(item=>item.userId!==userId||item.serverId!==serverId);localStorage.setItem('idHistory',JSON.stringify(history));updateHistoryList()}document.getElementById("btnLanjut").addEventListener("click",()=>{const userId=document.getElementById("userId").value.trim();const serverId=document.getElementById("serverId").value.trim();if(userId&&serverId){saveHistory(userId,serverId)}});document.addEventListener('DOMContentLoaded',()=>{updateHistoryList()});const toggleHistoryText=document.getElementById('toggleHistory');const historySection=document.getElementById('historySection');toggleHistoryText.addEventListener('click',()=>{if(historySection.style.display==='none'||historySection.style.display===''){historySection.classList.remove('fade-out-to-behind');historySection.classList.add('fade-in-from-behind');historySection.style.display='block';toggleHistoryText.textContent='Sembunyikan Riwayat ID';toggleHistoryText.classList.add('show')}else{historySection.classList.remove('fade-in-from-behind');historySection.classList.add('fade-out-to-behind');toggleHistoryText.textContent='Tampilkan Riwayat ID';toggleHistoryText.classList.remove('show');setTimeout(()=>{historySection.style.display='none'},400)}});
